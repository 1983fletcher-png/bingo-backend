---
description: How to push to GitHub and sync frontend to the live app from Cursor
globs: 
alwaysApply: false
---

# Deploy and sync from Cursor

## Pushing to GitHub

- **Normal `git push origin main`** often fails in Cursor with "could not read Username".
- **Fix:** Use token-based push so the agent can push without interactive auth.
  1. User sets **GITHUB_TOKEN** (GitHub Personal Access Token with `repo` scope) in Cursor env or shell.
  2. Scripts use **scripts/git-push-with-token.sh**: if GITHUB_TOKEN is set, push via HTTPS with the token; else run normal `git push origin main`.
- **deploy-playroom.sh** already calls `git-push-with-token.sh`. So after the user sets GITHUB_TOKEN, running `./scripts/deploy-playroom.sh` will commit and push this repo successfully.

## Syncing frontend to the live site (music-bingo-app)

- The **live site** (Netlify) is built from the **music-bingo-app** repo, not this repo.
- This repo has the **canonical frontend** (Host, Play, Print, Roll Call, trivia). To get that onto the live site:
  1. **Copy** this repo’s frontend into the music-bingo-app repo.
  2. **Commit and push** the music-bingo-app repo (so Netlify redeploys).
- **Scripts that do both (when GITHUB_TOKEN and path are set):**
  - **sync-full-frontend-and-push.sh** — Syncs the **entire** frontend (Print tab, bingo, trivia, Roll Call, etc.) into music-bingo-app, then commits and pushes the app repo. Use this when you want the live site to have everything from this repo.
  - **sync-and-push-roll-call.sh** — Syncs only Roll Call–related files (smaller change).
- **Path to music-bingo-app:** User sets **MUSIC_BINGO_APP_PATH** (e.g. `/path/to/music-bingo-app`), or the scripts try `..` and `../music-bingo-app`, or user passes the path as the first argument.

## When to run what

- **After committing changes in this repo and you want both repos updated:**
  1. Run `./scripts/deploy-playroom.sh` (commits if needed, pushes this repo using GITHUB_TOKEN).
  2. Run `./scripts/sync-full-frontend-and-push.sh` (syncs frontend to music-bingo-app and pushes that repo using GITHUB_TOKEN). Use `MUSIC_BINGO_APP_PATH` or pass the app path as the first argument.
- **One-time setup for the user:** See **docs/GITHUB-PUSH-AND-SYNC-SETUP.md** (create PAT, set GITHUB_TOKEN, set MUSIC_BINGO_APP_PATH if needed).
