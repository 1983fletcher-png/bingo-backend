---
description: How to push to GitHub and sync frontend to the live app from Cursor
globs: 
alwaysApply: false
---

# Deploy and sync from Cursor

## Pushing to GitHub

- **Normal `git push origin main`** often fails in Cursor with "could not read Username".
- **Fix:** Use token-based push so the agent can push without interactive auth.
  1. User sets **GITHUB_TOKEN** (GitHub Personal Access Token with `repo` scope) in Cursor env or shell.
  2. Scripts use **scripts/git-push-with-token.sh**: if GITHUB_TOKEN is set, push via HTTPS with the token; else run normal `git push origin main`.
- **deploy-playroom.sh** already calls `git-push-with-token.sh`. So after the user sets GITHUB_TOKEN, running `./scripts/deploy-playroom.sh` will commit and push this repo successfully.

## Syncing frontend to the live site (music-bingo-app)

- The **live site** (Netlify) is built from the **music-bingo-app** repo. That repo is the **UI source of truth** (design system, nav, landing page, themes).
- **Do not** run full frontend sync from this repo into music-bingo-app — it would overwrite the app's design. See **docs/FRONTEND-ARCHITECTURE.md**.
- **Safe sync:** **sync-and-push-roll-call.sh** — copies only Roll Call–related files into music-bingo-app, then commits and pushes. Use when updating Roll Call logic/maps only.
- **Everything else:** Implement or port features **in music-bingo-app** using its components and CSS. Backend: add API/socket here; app calls it and renders with its own UI.
- **Path to music-bingo-app:** User sets **MUSIC_BINGO_APP_PATH**, or scripts try `..` and `../music-bingo-app`, or user passes the path as the first argument.

## When to run what

- **Backend-only changes:** Run `./scripts/deploy-playroom.sh` (commits if needed, pushes this repo with GITHUB_TOKEN).
- **Roll Call updates:** Run `./scripts/sync-and-push-roll-call.sh` (syncs only Roll Call files to the app and pushes).
- **Landing page, copy, or new UI:** Edit **music-bingo-app** directly; commit and push that repo (Netlify deploys).
- **One-time setup:** See **docs/GITHUB-PUSH-AND-SYNC-SETUP.md** (PAT, GITHUB_TOKEN, MUSIC_BINGO_APP_PATH).
