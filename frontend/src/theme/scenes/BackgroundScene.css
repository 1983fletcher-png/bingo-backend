/**
 * Background scene styles â€” procedural patterns, gradients, vignette.
 * Uses --pr-* vars and --pr-scene-intensity (0..1).
 */

.pr-scene {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
  z-index: 0;
}

.pr-scene-reduced-motion * {
  animation: none !important;
}

/* ----- Arcade Carpet ----- */
.pr-scene-carpet-base {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    145deg,
    #1a0a2e 0%,
    #16213e 25%,
    #0f3460 50%,
    #1a0a2e 100%
  );
  opacity: var(--pr-scene-intensity, 1);
}

.pr-scene-carpet-pattern {
  position: absolute;
  inset: 0;
  background-image: repeating-linear-gradient(
      90deg,
      transparent 0,
      transparent 40px,
      rgba(255, 255, 255, 0.02) 40px,
      rgba(255, 255, 255, 0.02) 41px
    ),
    repeating-linear-gradient(
      0deg,
      transparent 0,
      transparent 40px,
      rgba(255, 255, 255, 0.02) 40px,
      rgba(255, 255, 255, 0.02) 41px
    ),
    radial-gradient(circle at 20% 30%, rgba(167, 139, 250, 0.08) 0%, transparent 50%),
    radial-gradient(circle at 80% 70%, rgba(139, 92, 246, 0.06) 0%, transparent 45%);
  opacity: var(--pr-scene-intensity, 1);
}

/* ----- Studio ----- */
.pr-scene-studio-base {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    #1a1512 0%,
    #2a221c 40%,
    #1e1814 100%
  );
  opacity: var(--pr-scene-intensity, 1);
}

.pr-scene-studio-beams {
  position: absolute;
  inset: 0;
  background: conic-gradient(
    from 180deg at 50% 0%,
    transparent 0deg 30deg,
    rgba(232, 196, 92, 0.06) 30deg 60deg,
    transparent 60deg 90deg,
    rgba(232, 196, 92, 0.05) 90deg 120deg,
    transparent 120deg 150deg,
    rgba(232, 196, 92, 0.04) 150deg 180deg,
    transparent 180deg 210deg,
    rgba(232, 196, 92, 0.05) 210deg 240deg,
    transparent 240deg 270deg,
    rgba(232, 196, 92, 0.06) 270deg 300deg,
    transparent 300deg 330deg,
    rgba(232, 196, 92, 0.04) 330deg 360deg
  );
  opacity: var(--pr-scene-intensity, 1);
}

.pr-scene-studio-floor {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 35%;
  background: linear-gradient(
    180deg,
    transparent 0%,
    rgba(0, 0, 0, 0.25) 60%,
    rgba(0, 0, 0, 0.4) 100%
  );
  opacity: var(--pr-scene-intensity, 1);
}

/* ----- Mountains ----- */
.pr-scene-mountains-sky {
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    #0f0c1a 0%,
    #1a1530 30%,
    #16213e 60%,
    #1a2332 100%
  );
  opacity: var(--pr-scene-intensity, 1);
}

.pr-scene-mountains-silhouettes {
  position: absolute;
  inset: 0;
}

.pr-scene-mountains-svg {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: bottom;
}

.pr-scene-mountains-stars {
  position: absolute;
  inset: 0;
  background-image: radial-gradient(2px 2px at 20% 30%, rgba(255, 255, 255, 0.4), transparent),
    radial-gradient(2px 2px at 40% 20%, rgba(255, 255, 255, 0.3), transparent),
    radial-gradient(1px 1px at 60% 25%, rgba(255, 255, 255, 0.5), transparent),
    radial-gradient(2px 2px at 80% 35%, rgba(255, 255, 255, 0.25), transparent),
    radial-gradient(1px 1px at 15% 50%, rgba(255, 255, 255, 0.35), transparent);
  background-size: 200% 200%;
  opacity: calc(var(--pr-scene-intensity, 1) * 0.9);
}

.pr-scene-reduced-motion .pr-scene-mountains-stars {
  opacity: calc(var(--pr-scene-intensity, 1) * 0.9);
}

/* ----- Shared: noise + vignette ----- */
.pr-scene-noise {
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  opacity: calc(0.15 * var(--pr-scene-intensity, 1));
  mix-blend-mode: overlay;
}

.pr-scene-vignette {
  position: absolute;
  inset: 0;
  background: radial-gradient(
    ellipse 80% 80% at 50% 50%,
    transparent 40%,
    rgba(0, 0, 0, 0.4) 100%
  );
  opacity: calc(var(--pr-vignette-opacity, 0.2) * var(--pr-scene-intensity, 1));
  pointer-events: none;
}
